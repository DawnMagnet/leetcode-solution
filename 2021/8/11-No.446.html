<!DOCTYPE HTML>
<html lang="zh-cn" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>11æ—¥ -  ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ— - LeetCode Solution - åŠ›æ‰£é¢˜è§£</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?68e5a42781c7cf226eb26bac2cf1a765";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../written_at_front.html">å¼•è¨€</a></li><li class="chapter-item expanded affix "><a href="../../leanote.html">å…³äºä»èš‚èšç¬”è®°è¿ç§»è€Œæ¥çš„è¯´æ˜</a></li><li class="chapter-item expanded "><a href="../../special/SUMMAR.html"><strong aria-hidden="true">1.</strong> ç‰¹è¾‘</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../special/leetcode-cup-2021-autumn-group.html"><strong aria-hidden="true">1.1.</strong> 2021åŠ›æ‰£æ¯ç§‹å­£ç¼–ç¨‹å¤§èµ›-æˆ˜é˜Ÿèµ›å¤ç›˜</a></li></ol></li><li class="chapter-item expanded "><a href="../../2021/SUMMARY.html"><strong aria-hidden="true">2.</strong> 2021å¹´</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../2021/10/SUMMARY.html"><strong aria-hidden="true">2.1.</strong> 10æœˆ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../2021/10/7-No.434.html"><strong aria-hidden="true">2.1.1.</strong> 7æ—¥ -  å­—ç¬¦ä¸²ä¸­çš„å•è¯æ•°</a></li><li class="chapter-item expanded "><a href="../../2021/10/6-No.414.html"><strong aria-hidden="true">2.1.2.</strong> 6æ—¥ -  ç¬¬ä¸‰å¤§çš„æ•°</a></li><li class="chapter-item expanded "><a href="../../2021/10/5-No.284.html"><strong aria-hidden="true">2.1.3.</strong> 5æ—¥ -  çª¥æ¢è¿­ä»£å™¨</a></li><li class="chapter-item expanded "><a href="../../2021/10/4-No.482.html"><strong aria-hidden="true">2.1.4.</strong> 4æ—¥ -  å¯†é’¥æ ¼å¼åŒ–</a></li><li class="chapter-item expanded "><a href="../../2021/10/3-No.166.html"><strong aria-hidden="true">2.1.5.</strong> 3æ—¥ -  åˆ†æ•°åˆ°å°æ•°</a></li><li class="chapter-item expanded "><a href="../../2021/10/2-No.405.html"><strong aria-hidden="true">2.1.6.</strong> 2æ—¥ -  æ•°å­—è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ•°</a></li><li class="chapter-item expanded "><a href="../../2021/10/1-No.1436.html"><strong aria-hidden="true">2.1.7.</strong> 1æ—¥ -  æ—…è¡Œç»ˆç‚¹ç«™</a></li></ol></li><li class="chapter-item expanded "><a href="../../2021/9/SUMMARY.html"><strong aria-hidden="true">2.2.</strong> 9æœˆ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../2021/9/30-No.223.html"><strong aria-hidden="true">2.2.1.</strong> 30æ—¥ -  çŸ©å½¢é¢ç§¯</a></li><li class="chapter-item expanded "><a href="../../2021/9/29-No.517.html"><strong aria-hidden="true">2.2.2.</strong> 29æ—¥ -  è¶…çº§æ´—è¡£æœº</a></li><li class="chapter-item expanded "><a href="../../2021/9/28-No.437.html"><strong aria-hidden="true">2.2.3.</strong> 28æ—¥ -  è·¯å¾„æ€»å’Œ III</a></li><li class="chapter-item expanded "><a href="../../2021/9/27-No.639.html"><strong aria-hidden="true">2.2.4.</strong> 27æ—¥ -  è§£ç æ–¹æ³• II</a></li><li class="chapter-item expanded "><a href="../../2021/9/26-No.371.html"><strong aria-hidden="true">2.2.5.</strong> 26æ—¥ -  ä¸¤æ•´æ•°ä¹‹å’Œ</a></li><li class="chapter-item expanded "><a href="../../2021/9/25-No.583.html"><strong aria-hidden="true">2.2.6.</strong> 25æ—¥ -  ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åˆ é™¤æ“ä½œ</a></li><li class="chapter-item expanded "><a href="../../2021/9/24-No.430.html"><strong aria-hidden="true">2.2.7.</strong> 24æ—¥ -  æ‰å¹³åŒ–å¤šçº§åŒå‘é“¾è¡¨</a></li><li class="chapter-item expanded "><a href="../../2021/9/23-No.326.html"><strong aria-hidden="true">2.2.8.</strong> 23æ—¥ -  3çš„å¹‚</a></li><li class="chapter-item expanded "><a href="../../2021/9/22-No.725.html"><strong aria-hidden="true">2.2.9.</strong> 22æ—¥ -  åˆ†éš”é“¾è¡¨</a></li></ol></li><li class="chapter-item expanded "><a href="../../2021/8/SUMMARY.html"><strong aria-hidden="true">2.3.</strong> 8æœˆ</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../2021/8/14-No.1853.html"><strong aria-hidden="true">2.3.1.</strong> 14æ—¥ -  ç»Ÿè®¡ä¸å¼€å¿ƒçš„æœ‹å‹</a></li><li class="chapter-item expanded "><a href="../../2021/8/13-No.233.html"><strong aria-hidden="true">2.3.2.</strong> 13æ—¥ -  æ•°å­—1çš„ä¸ªæ•°</a></li><li class="chapter-item expanded "><a href="../../2021/8/12-No.516.html"><strong aria-hidden="true">2.3.3.</strong> 12æ—¥ -  æœ€é•¿å›æ–‡å­åºåˆ—</a></li><li class="chapter-item expanded "><a href="../../2021/8/11-No.446.html" class="active"><strong aria-hidden="true">2.3.4.</strong> 11æ—¥ -  ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—</a></li><li class="chapter-item expanded "><a href="../../2021/8/10-No.413.html"><strong aria-hidden="true">2.3.5.</strong> 10æ—¥ -  ç­‰å·®æ•°åˆ—åˆ’åˆ†</a></li><li class="chapter-item expanded "><a href="../../2021/8/9-No.313.html"><strong aria-hidden="true">2.3.6.</strong> 9æ—¥ -  è¶…çº§ä¸‘æ•°</a></li><li class="chapter-item expanded "><a href="../../2021/8/8-No.1137.html"><strong aria-hidden="true">2.3.7.</strong> 8æ—¥ -  ç¬¬Nä¸ªæ³°æ³¢é‚£å¥‘æ•°</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">LeetCode Solution - åŠ›æ‰£é¢˜è§£</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/DawnMagnet/leetcode-solution.git" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
<h1 id="no446-ç­‰å·®æ•°åˆ—åˆ’åˆ†-ii---å­åºåˆ—"><a class="header" href="#no446-ç­‰å·®æ•°åˆ—åˆ’åˆ†-ii---å­åºåˆ—">No.446 ç­‰å·®æ•°åˆ—åˆ’åˆ† II - å­åºåˆ—</a></h1>
<p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¿”å› <code>nums</code> ä¸­æ‰€æœ‰ <strong>ç­‰å·®å­åºåˆ—</strong> çš„æ•°ç›®ã€‚</p>
<p>å¦‚æœä¸€ä¸ªåºåˆ—ä¸­ <strong>è‡³å°‘æœ‰ä¸‰ä¸ªå…ƒç´ </strong> ï¼Œå¹¶ä¸”ä»»æ„ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹å·®ç›¸åŒï¼Œåˆ™ç§°è¯¥åºåˆ—ä¸ºç­‰å·®åºåˆ—ã€‚</p>
<ul>
	<li>ä¾‹å¦‚ï¼Œ<code>[1, 3, 5, 7, 9]</code>ã€<code>[7, 7, 7, 7]</code> å’Œ <code>[3, -1, -5, -9]</code> éƒ½æ˜¯ç­‰å·®åºåˆ—ã€‚</li>
	<li>å†ä¾‹å¦‚ï¼Œ<code>[1, 1, 2, 5, 7]</code> ä¸æ˜¯ç­‰å·®åºåˆ—ã€‚</li>
</ul>
<p>æ•°ç»„ä¸­çš„å­åºåˆ—æ˜¯ä»æ•°ç»„ä¸­åˆ é™¤ä¸€äº›å…ƒç´ ï¼ˆä¹Ÿå¯èƒ½ä¸åˆ é™¤ï¼‰å¾—åˆ°çš„ä¸€ä¸ªåºåˆ—ã€‚</p>
<ul>
	<li>ä¾‹å¦‚ï¼Œ<code>[2,5,10]</code> æ˜¯ <code>[1,2,1,<em><strong>2</strong></em>,4,1,<strong><em>5</em></strong>,<em><strong>10</strong></em>]</code> çš„ä¸€ä¸ªå­åºåˆ—ã€‚</li>
</ul>
<p>é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆæ˜¯ä¸€ä¸ª <strong>32-bit</strong> æ•´æ•°ã€‚</p>
<p>&nbsp;</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š</strong>nums = [2,4,6,8,10]
<strong>è¾“å‡ºï¼š</strong>7
<strong>è§£é‡Šï¼š</strong>æ‰€æœ‰çš„ç­‰å·®å­åºåˆ—ä¸ºï¼š
[2,4,6]
[4,6,8]
[6,8,10]
[2,4,6,8]
[4,6,8,10]
[2,4,6,8,10]
[2,6,10]
</pre>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<pre><strong>è¾“å…¥ï¼š</strong>nums = [7,7,7,7,7]
<strong>è¾“å‡ºï¼š</strong>16
<strong>è§£é‡Šï¼š</strong>æ•°ç»„ä¸­çš„ä»»æ„å­åºåˆ—éƒ½æ˜¯ç­‰å·®å­åºåˆ—ã€‚
</pre>
<p>&nbsp;</p>
<p><strong>æç¤ºï¼š</strong></p>
<ul>
	<li><code>1&nbsp; &lt;= nums.length &lt;= 1000</code></li>
	<li><code>-2<sup>31</sup> &lt;= nums[i] &lt;= 2<sup>31</sup> - 1</code></li>
</ul>
<h1 id="æ€è·¯åˆ†æ"><a class="header" href="#æ€è·¯åˆ†æ">æ€è·¯åˆ†æ</a></h1>
<p>æœ¬é¢˜ä¸<a href="./10%20-%20No.413%20%E7%AD%89%E5%B7%AE%E6%95%B0%E5%88%97%E5%88%92%E5%88%86.html">æ˜¨å¤©çš„é¢˜ç›®</a>å‡ ä¹å®Œå…¨ä¸€è‡´ã€‚å”¯ä¸€æœ‰åŒºåˆ«çš„åœ°æ–¹å°±æ˜¯å°†<strong>å­æ•°ç»„æ”¹æˆäº†å­åºåˆ—</strong>ã€‚<br />
ä½†è¿™ä¸ªæ”¹åŠ¨å¯ä¸æ˜¯å°å°çš„æ”¹åŠ¨ï¼Œæˆ‘ä»¬ä¹‹å‰çš„æ€è€ƒåœ¨è¿™é‡Œå‡ ä¹ä¸ä¼šæœ‰ä»€ä¹ˆç”¨å¤„ã€‚</p>
<p>å­åºåˆ—æ˜¯æ²¡æœ‰è¿ç»­æ€§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä»»æ„ä¸€äº›æœ‰å…ˆåé¡ºåºä½†æ˜¯æ²¡æœ‰é‚»æ¥é¡ºåºçš„æ•°å­—ï¼Œåªè¦ä»–ä»¬æ»¡è¶³å·®å€¼æ˜¯ä¸€ä¸ªæ’å®šçš„æ•°ï¼Œä»–ä»¬å°±æ˜¯åˆæ³•çš„ç­‰å·®å­åºåˆ—ã€‚</p>
<p>é¦–å…ˆè¦ç†è§£é¢˜ç›®ï¼Œæ‰æœ‰å¯èƒ½åšå‡ºæ¥ã€‚</p>
<p>é‚£ä¹ˆå¯¹äºå­åºåˆ—ï¼Œæˆ‘ä»¬èƒ½æƒ³åˆ°çš„é™¤äº†æš´åŠ›è¿˜æœ‰åˆ«çš„åŠæ³•å—ï¼Ÿ<br />
å…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦å»æç‚¼ä¸€ä¸‹è§„å¾‹ï¼Œä¸€ä¸ªå¯ä»¥æ€»ç»“çš„è§„å¾‹ã€‚<br />
æ¯”å¦‚åœ¨è¿™ä¸€é¢˜ä¸­ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“<code>[.....,2,4,6]</code>æ˜¯ä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œé‚£ä¹ˆ4å‰é¢çš„ä¸œè¥¿æœ‰å¤šå°‘ä½ä¸æˆ‘ä»¬å¹¶æ— å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºåé¢çš„æ•°å­—æ¥è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒ2å‰é¢æœ‰å‡ ä½ï¼Œå› ä¸ºéƒ½æ˜¯å·®ä¸º2çš„ç­‰å·®æ•°åˆ—ã€‚</p>
<p>é‚£ä¹ˆæ•´ä¸ªæ•°æ®ç»“æ„çš„é›å½¢å°±å‡ºæ¥äº†ï¼Œé¦–å…ˆå¤–å±‚æ˜¯ä¸€ä¸ªä»å‰å‘åçš„éå†ï¼Œæ¯ä¸€æ­¥éƒ½ä¼šå¯¹è‡ªå·±åŠä¹‹å‰çš„ä¸œè¥¿åšä¸€ä¸ªè®°å½•ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨ã€‚<br />
è®°å½•çš„è¿™ä¸ªä¸œè¥¿ï¼Œè‚¯å®šæ˜¯åŸºäº<strong>ç­‰å·®æ•°åˆ—çš„å·®</strong>æ¥è®°å½•çš„ï¼Œæˆ‘ä»¬å°±ä½¿ç”¨ä¸€ä¸ª<code>HashMap&lt;i32,?&gt;</code>æ¥è®°å½•ï¼Œé‚£ä¹ˆè®°å½•çš„å†…å®¹æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ<br />
ä¸ºäº†åç»­ä½¿ç”¨ï¼Œæˆ‘ä»¬è‚¯å®šè¦æƒ³è®°å½•æ•°é‡ï¼Œä¹Ÿå°±æ˜¯<strong>åˆæ³•çš„ç­‰å·®å­åºåˆ—çš„æ•°é‡</strong>ï¼Œä½†æ˜¯è¿™é‡Œåˆå‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œé•¿åº¦é—®é¢˜ã€‚</p>
<p>é•¿åº¦æ˜¯ä¸€ä¸ªå¾ˆå…³é”®çš„ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬è®°å½•çš„æ˜¯é•¿åº¦ä¸º2çš„ï¼Œå°±æœ‰å¯èƒ½å¤šç®—ï¼›æˆ‘ä»¬ä¹Ÿæ²¡æœ‰åŠæ³•åªè®°å½•é•¿åº¦å¤§äºç­‰äº3çš„ï¼Œå› ä¸ºè¿™å¿…å®šæ˜¯åŸºäºé•¿åº¦ä¸º2çš„æ‰èƒ½æ¨å¾—<br />
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>HashMap&lt;i32, (i32, i32)&gt;</code>çš„æ•°æ®ç»“æ„ã€‚è¿™æ ·å¯ä»¥ç”¨å‰é¢çš„<code>i32</code>æ¥è®°å½•é•¿åº¦å¤§äºç­‰äº3çš„ï¼Œåé¢çš„æ¥è®°å½•é•¿åº¦ç­‰äº2çš„ã€‚</p>
<p>ä½†è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªå‘ç‚¹éœ€è¦æ³¨æ„ï¼Œæˆ‘ç›¸ä¿¡å¤§å®¶ä¹Ÿéƒ½æ²¡å‘ç°ï¼š<li><code>-2<sup>31</sup> &lt;= nums[i] &lt;= 2<sup>31</sup> - 1</code></li>
è¿™ä¸ªæ¡ä»¶ç›´æ¥å¯¼è‡´æˆ‘ä»¬åœ¨è®¡ç®—ä¸¤ä½ä¹‹å·®çš„æ—¶å€™éœ€è¦ä½¿ç”¨æ¯”<code>i32</code>æ›´å¤§çš„æ•°æ®ï¼Œå¦åˆ™ä¼šæº¢å‡ºã€‚æ‰€ä»¥æˆ‘ä»¬æ”¹ç”¨äº†<code>i64</code>ã€‚</p>
<p>ç„¶åæˆ‘ä»¬å†™å‡ºäº†ç¬¬ä¸€ç‰ˆæœ¬çš„ä»£ç </p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Solution;
</span>impl Solution {
    pub fn number_of_arithmetic_slices(nums: Vec&lt;i32&gt;) -&gt; i32 {
        use std::collections::*;
        let mut dp: Vec&lt;HashMap&lt;i64, (i32, i32)&gt;&gt; = vec![];
        let n = nums.len();
        let mut res = 0;
        for i in 0..n {
            let mut nxt = HashMap::new();
            for j in 0..i {
                let diff = nums[i] as i64 - nums[j] as i64;
                if let Some(value) = dp[j].get(&amp;diff) {
                    nxt.entry(diff).or_insert((0, 0)).0 += value.0 + value.1;
                    res += value.0 + value.1;
                }
                nxt.entry(diff).or_insert((0, 0)).1 += 1;
            }
            dp.push(nxt);
        }
        res
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>dpæ˜¯ä¸€ä¸ªåŒ…å«æ¯ä¸€ä¸ªä½æ‰€æœ‰ä¿¡æ¯çš„ä¸€ä¸ªæ€»å’Œã€‚
åœ¨å¯¹numsè¿›è¡Œéå†çš„åŒæ—¶ï¼Œè®°å½•æ‰€æœ‰æ•°æ®ã€‚</p>
<p><code>nxt.entry(diff).or_insert((0, 0)).1 += 1;</code><br />
è¿™å¥è¯çš„æ„æ€å°±æ˜¯å¯¹äºæ‰€æœ‰åœ¨iå‰é¢çš„<code>nums[j]</code>éƒ½å¯ä»¥ä¸<code>nums[i]</code>ç»„æˆä¸€ä¸ªé•¿åº¦ä¸º2çš„ç»„åˆã€‚æ‰€ä»¥åŠ åˆ°äº†åé¢çš„ä½ã€‚
<code>nxt.entry(diff).or_insert((0, 0)).0 += value.0 + value.1;</code><br />
è¿™å¥è¯çš„æ„æ€æ˜¯å¦‚æœjä½ç½®ä¹‹å‰å‡ºç°è¿‡é•¿åº¦å¤§äº3æˆ–è€…é•¿åº¦ç­‰äº2çš„ï¼Œå†ä¸<code>nums[i]</code>è¿›è¡Œæ­é…ï¼Œä¸€å®šä¼šå¾—åˆ°ä¸€ä¸ªé•¿åº¦å¤§äºç­‰äº3çš„å­åºåˆ—ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†å…¶åŠ åˆ°å‰é¢çš„ä½ä¸Šï¼Œå¹¶ä¸”åŠ åˆ°ç­”æ¡ˆä¸Šã€‚</p>
<p>è¿™æ®µä»£ç æ˜¯å¯ä»¥é€šè¿‡çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°ä¸€ä¸ªè¦ç‚¹ã€‚åœ¨æˆ‘ä»¬ä½¿ç”¨<code>(i32, i32)</code>æ—¶ï¼Œæ€»æ˜¯ä½¿ç”¨å®ƒä»¬çš„å’Œã€‚ä»£ç ä¸­å‡ºç°çš„åªæœ‰<code>value[0] + value[1]</code>ã€‚é‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯ä»¥è€ƒè™‘å°†å…¶åˆå¹¶ï¼Ÿ</p>
<p>å…¶å®ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚åˆå¹¶ä¹‹åçš„å«ä¹‰å°±å˜åŒ–äº†ï¼Œ<code>HashMap&lt;i64, i32&gt;</code>è¡¨ç¤ºçš„å°±æ˜¯ä¸€ä¸ªç‰¹å®šçš„diffä¸‹é•¿åº¦å¤§äºç­‰äº2çš„æ‰€æœ‰å­åºåˆ—æ•°é‡ã€‚è€Œæœ€ä»¤äººéœ‡æƒŠçš„æ˜¯è¿™å¥½åƒä¸å½±å“è®¡ç®—ã€‚</p>
<h1 id="rustä»£ç "><a class="header" href="#rustä»£ç ">Rustä»£ç </a></h1>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span><span class="boring">struct Solution;
</span>impl Solution {
    pub fn number_of_arithmetic_slices(nums: Vec&lt;i32&gt;) -&gt; i32 {
        use std::collections::*;
        let mut dp: Vec&lt;HashMap&lt;i64, i32&gt;&gt; = vec![];
        let n = nums.len();
        let mut res = 0;
        for i in 0..n {
            let mut nxt = HashMap::new();
            for j in 0..i {
                let diff = nums[i] as i64 - nums[j] as i64;
                if let Some(value) = dp[j].get(&amp;diff) {
                    *nxt.entry(diff).or_insert(0) += value;
                    res += value;
                }
                *nxt.entry(diff).or_insert(0) += 1;
            }
            dp.push(nxt);
        }
        res
    }
}
<span class="boring">}
</span></code></pre></pre>
<p>çœ‹åˆ°äº†å—ï¼Ÿå…¶å®ç­”æ¡ˆå°±æ˜¯æˆ‘ä»¬åœ¨è¯»å–å‰ä¸€ä½çš„é•¿åº¦ä¸º2çš„å­åºåˆ—çš„æ—¶å€™ï¼ŒåŠ ä¸Šè¿™ä¸€ä½ä¸€å®šå¤§äºç­‰äº3äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¤šè™‘äº†ï¼<br />
ä½†ä½ è¦æ˜¯ä¸è¯•ä½ æ°¸è¿œä¹Ÿä¸çŸ¥é“è‡ªå·±å¤šè™‘äº†ã€‚ ğŸ˜‚</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../2021/8/12-No.516.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../../2021/8/10-No.413.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../2021/8/12-No.516.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../../2021/8/10-No.413.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
